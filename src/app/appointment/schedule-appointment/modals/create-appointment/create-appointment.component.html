<button
  class="bg-transparent border-0 d-flex ml-auto btn-close"
  (click)="cancel()"
>
  <mat-icon>close</mat-icon>
</button>

<h3 class="text-center mb-4">Book a appointment</h3>
<form
  *ngIf="user_role == 'Physician'"
  [formGroup]="appointmentForm"
  (ngSubmit)="createAppointment()"
>
  <mat-form-field appearance="standard" class="w-100">
    <mat-label>Appointment for</mat-label>
    <input formControlName="title" type="text" matInput [value]="medication" />
  </mat-form-field>

  <mat-form-field appearance="standard" class="w-100">
    <mat-label>Provider</mat-label>
    <mat-select formControlName="provider">
      <mat-option *ngFor="let p of providers" [value]="p">
        {{ p }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="standard" class="w-100">
    <mat-label>Pick a date</mat-label>
    <input
      matInput
      [matDatepicker]="picker"
      formControlName="date"
      [min]="minDate"
      [max]="maxDate"
    />
    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
    <mat-datepicker #picker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="standard" class="w-100">
    <mat-label>Available slots</mat-label>
    <mat-select formControlName="slot">
      <mat-option *ngFor="let slot of slots" [value]="slot">
        {{ slot }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <div class="text-center">
    <button
      class="my-4"
      type="submit"
      mat-raised-button
      color="primary"
      [disabled]="appointmentForm.invalid"
    >
      Submit
    </button>
  </div>
</form>

<form
  [formGroup]="treatmentForm"
  (ngSubmit)="SubmitTreatment()"
  *ngIf="user_role == 'Patient'"
>
  <mat-form-field appearance="standard" class="w-100">
    <mat-label>Treatment for</mat-label>
    <mat-select formControlName="name">
      <mat-option *ngFor="let treatment of treatments" [value]="treatment">
        {{ treatment | titlecase }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field appearance="standard" class="w-100">
    <mat-label>Physician</mat-label>
    <mat-select formControlName="physician">
      <mat-option *ngFor="let physician of physicians" [value]="physician">
        {{ physician }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <button
    class="my-4"
    type="submit"
    mat-raised-button
    color="primary"
    [disabled]="treatmentForm.invalid"
  >
    Submit
  </button>
</form>
